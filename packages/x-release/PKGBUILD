# Maintainer: Xscriptor <dev@xscriptor.com>
pkgname=x-release
pkgver=1.0
pkgrel=3
pkgdesc="X Linux identity and branding files"
arch=('any')
url="https://dev.xscriptor.com/x"
license=('MIT')
install=x-release.install
source=('distributir-logo.svg')
md5sums=('SKIP')

package() {
    install -d "$pkgdir/usr/share/x-release"
    install -Dm644 /dev/stdin "$pkgdir/usr/share/x-release/os-release" <<'EOF'
NAME="X"
PRETTY_NAME="X Linux"
ID=x
ID_LIKE=arch
BUILD_ID=rolling
ANSI_COLOR="0;36"
HOME_URL="https://dev.xscriptor.com/x"
DOCUMENTATION_URL="https://dev.xscriptor.com/x/docs"
SUPPORT_URL="https://dev.xscriptor.com/x/support"
BUG_REPORT_URL="https://github.com/xscriptor/x-linux"
LOGO=x
EOF

    install -Dm644 /dev/stdin "$pkgdir/usr/share/x-release/grub" <<'EOF'
GRUB_DEFAULT=0
GRUB_TIMEOUT=5
GRUB_DISTRIBUTOR="X"
GRUB_CMDLINE_LINUX_DEFAULT=""
GRUB_CMDLINE_LINUX=""
GRUB_PRELOAD_MODULES="part_gpt part_msdos"
GRUB_TIMEOUT_STYLE=menu
GRUB_TERMINAL_INPUT=console
GRUB_GFXMODE=auto
GRUB_GFXPAYLOAD_LINUX=keep
GRUB_DISABLE_RECOVERY=true
EOF

    install -Dm644 "distributir-logo.svg" "$pkgdir/usr/share/pixmaps/x.svg"
}